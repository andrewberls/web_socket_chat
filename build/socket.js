// Generated by CoffeeScript 1.3.3
var SocketMessageListView, SocketMessageView;

SocketMessageView = Backbone.View.extend({
  template: _.template($('#template-socket-message').html()),
  render: function() {
    $(this.el).html(this.template(this.model));
    return this;
  }
});

SocketMessageListView = Backbone.View.extend({
  template: _.template($('#template-socket-message-list').html()),
  initialize: function() {
    this.model.on('socket:message', this.onMessage, this);
    return this.data = [];
  },
  onMessage: function(msg) {
    console.log(this.el);
    this.data.push({
      message: msg
    });
    return this.render();
  },
  render: function() {
    $(this.el).html('');
    _.each(this.data, function(msg) {
      var output;
      output = new SocketMessageView({
        model: msg
      }).render();
      return $(this.el).append(output.$el.html());
    }, this);
    return this;
  }
});
